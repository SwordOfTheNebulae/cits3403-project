{% extends "base.html" %}
{% block main_content %}
<!--side_menu end-->
    <div>
        <section class="banner-section">
            <div class="container">
                <div class="banner-text">
                    <h2>Movie Recommendation System</h2>
                    <a href="#" title="">For your exclusive customization</a>
                </div><!--banner-text end-->
            </div>
        </section><!--banner-section end-->


        <section class="vds-main">
            <div class="vidz-row">
                <div class="container">
                    <div class="vidz-row">
                        <div class="container">
                            <div class="vidz_sec">
                                <h3>Recommendations for you (User-based)</h3>
                                <a href="#" title="" class="view-btn" onclick="get_user_recommend()">Change</a>
                                <div class="vidz_list">
                                    <div class="row" id="user-recommend">
                                        {% for movie in user_recommend_list %}
                                            <div class="col-lg-3 col-md-6 col-sm-6 col-6 full_wdth">
                                                <div class="videoo">
                                                    <div class="vid_thumbainl">
                                                        <a href="{% url 'movie' movie.id %}" title="">
                                                            <img style="height: 340px; overflow: hidden" src="{{ MEDIA_URL }}{{ movie.image_link }}" alt="">
                                                        </a>
                                                    </div><!--vid_thumbnail end-->
                                                    <div class="video_info">
                                                        <h3><a href="{% url 'movie' movie.id %}"
                                                               title="">{{ movie.name }}</a></h3>
                                                        <h4><a title="">Tags: {% for tag in movie.tags.all %}
                                                            {{ tag }}
                                                        {% endfor %}</a> <span class="verify_ic"></span></h4>
                                                        <span>{{ movie.collect.count }} Likes<small
                                                                class="posted_dt">Release Date: {{ movie.years }}</small></span>
                                                    </div>
                                                </div>
                                            </div>
                                        {% endfor %}

                                    </div>
                                </div>
                            </div><!--vidz_list end-->
                        </div><!--vidz_videos end-->
                    </div>
                    <div class="vidz_sec">
                        <h3>{{ title }}</h3>
                        <div class="vidz_list">
                            <div class="row">
                                {% for movie in movies %}
                                    <div class="col-lg-3 col-md-6 col-sm-6 col-6 full_wdth">
                                        <div class="videoo">
                                            <div class="vid_thumbainl">
                                                <a href="{% url 'movie' movie.id %}" title="">
                                                    <img style="height: 340px; overflow: hidden"  src="{{ MEDIA_URL }}{{ movie.image_link }}" alt="">
                                                </a>
                                            </div><!--vid_thumbnail end-->
                                            <div class="video_info">
                                                <h3><a href="{% url 'movie' movie.id %}" title="">{{ movie.name }}</a>
                                                </h3>
                                                <h4><a title="">Tags: {% for tag in movie.tags.all %}
                                                    {{ tag }}
                                                {% endfor %}</a> <span
                                                        class="verify_ic"></span></h4>
                                                <span>{{ movie.collect.count }} Likes<small
                                                        class="posted_dt">Release Date: {{ movie.years }}</small></span>
                                            </div>
                                        </div><!--videoo end-->
                                    </div>
                                {% endfor %}

                            </div><!--vidz_list end-->
                            {% if movies.has_other_pages %}
                                <ul class="uk-pagination my-5 uk-flex-center" uk-margin>
                                    {% if movies.has_previous %}
                                        <li><a href="?page={{ movies.previous_page_number }}">Previous</a></li>
                                    {% else %}
                                        <li class="disabled"><span>&laquo;</span></li>
                                    {% endif %}
                                    {% for l in  movies.paginator.page_range %}
                                        {% if l <= movies.number|add:5 and l >= movies.number|add:-5 %}
                                            {% if movies.number == l %}
                                                <li class="uk-active"><span>{{ l }} <span
                                                        class="sr-only">(current)</span></span>
                                                </li>
                                            {% else %}
                                                <li><a href="?page={{ forloop.counter }}">{{ forloop.counter }}</a></li>
                                            {% endif %}
                                        {% endif %}
                                    {% endfor %}
                                    <li class="item"><a href="#">
                                        {{ movies.number }}/{{ movies.paginator.num_pages }}</a>
                                    </li>
                                    {% if movies.has_next %}
                                        <li><a href="?page={{ movies.next_page_number }}">Next</a></li>
                                    {% else %}
                                        <li class="disabled"><span>&raquo;</span></li>
                                    {% endif %}
                                </ul>
                            {% endif %}

                        </div><!--vidz_videos end-->
                    </div>
                </div><!--vidz-row end-->


            </div><!--vidz-row end-->
        </section><!--vds-main end-->
    </div><!--wrapper end-->
{% endblock %}